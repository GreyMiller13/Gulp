# Gulp - сборка, которая помогает автоматизировать рутинные задачи веб-разработки.

## В данной сборке реализовано:
- Создание веб-сервера и автоматическая перезагрузка страницы в браузере при сохранении кода, слежение за изменениями в файлах проекта;
- Использование препроцессора SCSS;
- Минификация CSS и JS кода, а также, оптимизация и конкатенация отдельных файлов HTML, JS в один;
- Автоматическое создание вендорных префиксов (приставок к названию CSS свойства, которые добавляют производители браузеров для нестандартных свойств) для CSS.
- Работа с изображениями - сжатие, создание спрайтов (png, jpg, svg и др.), конвертирование в формат webp;
- Конвертирование шрифтов в форматы woff, woff2 из ttf. (Для конвертации .otf предварительно необходимо запустить таск svgSprite);

### Таски

- **svgSprite** - позволяет собрать спрайт из svg-файлов. Исходная директория src/iconsprite. Сборка происходит в ../icons/icons.svg. 

- **otf2ttf** - позволяет конвертировать шрифты из формата .otf в формат .ttf

### Функции

- **fontsStyle** - предназначена для автоматического импорта используемых шрифтов в файл scss/fonts.scss

### БАГ

- При запуске gulp может открыться браузер со страницей Error. После полной загрузки всех файлов в консоли необходимо перезагрузить страницу в браузере. Ошибка исчезнет.
Ошибка тянется из-за функции images включенную в gulp.parallel. 

#### Дополнительные настройки

- По умолчанию, при запуске gulp будет просходить сборка в папку, название которой будет совпадать с названием проекта (корневой папки). Для того, чтобы формировалась папка с названием **dist** необходимо строку **let project_folder = require("path").basename(__dirname);** заменить на **let project_folder = "dist";**

- По умолчанию, в таске **svgSprite** предусмотрено формирование html-документа для предпросмотра получившегося спрайта. Чтобы отключить, необходимо указать **example: false**.

- Для того, чтобы при сборке не тянулись все html-файлы, а только основной **index.html**, используется символ _ в начале имени таких файлов. Пример: **_header.html**, **_footer.html**

## Использование

1. В склонированном проекте удалить вспомогательные файлы в папке **src**: fonts, iconsprite, img, js, scss. При необходимости выполнить очистку файла **index.html** и удаление **_header.html**, **_footer.html** (Данные файлы оставлены в качестве примера работы).
2. Выполнить установку необходимых пакетов для работы gulp. В консоли проекта прописать **npm install**, дождаться установки пакетов.
3. Сборка и запуск локального сервера осуществляется через команду **gulp** в консоли.
4. Для выполнения тасков используются команды в консоли: **gulp otf2ttf**, **gulp svgSprite**. При запущенном локальном сервере (см. пункт 3), необходимо открыть еще одно окно терминала и выполнить запуск тасков в нем.
